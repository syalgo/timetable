<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>2026 ì •ë³´ì˜¬ë¦¼í”¼ì•„ë“œ ì¤€ë¹„ in ì„¸ì˜ë¡œë³´í‹±ìŠ¤</title>

  <style>
    :root{
      --bg:#05070a;
      --neon:#00ff85;
      --neon2:#00d7ff;
      --warn:#ff2bd6;
      --text:#e8fff3;
      --muted:#b7c7bf;
      --border:rgba(0,255,133,.55);
      --glow:0 0 18px rgba(0,255,133,.35);

      --topScale: 1;
      --mainScale: 1;
    }

    *{box-sizing:border-box}
    html, body{height:100%}

    body{
      margin:0;
      background: radial-gradient(1200px 700px at 20% 0%, #0b1620 0%, var(--bg) 55%, #020305 100%);
      color:var(--text);
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Noto Sans KR", monospace;
      overflow:hidden;
    }
    body::before{
      content:"";
      position:fixed; inset:0;
      background:
        linear-gradient(rgba(0,255,133,.06) 1px, transparent 1px) 0 0/100% 36px,
        linear-gradient(90deg, rgba(0,255,133,.05) 1px, transparent 1px) 0 0/64px 100%;
      pointer-events:none;
      opacity:.35;
    }
    body::after{
      content:"";
      position:fixed; inset:0;
      background: linear-gradient(transparent 0%, rgba(255,255,255,.03) 50%, transparent 100%);
      background-size: 100% 4px;
      pointer-events:none;
      opacity:.25;
      mix-blend-mode: overlay;
    }

    .wrap{
      width:100vw;
      height:100vh;
      padding: clamp(10px, 1.4vmin, 18px);
      display:flex;
      flex-direction:column;
      gap: clamp(8px, 1.0vmin, 12px);
    }

    /* ===== PC ìƒë‹¨: í•œ ì¤„ ===== */
    .topline{
      display:grid;
      grid-template-columns: 1fr auto 1fr;
      align-items:center;
      gap: 8px;
      white-space:nowrap;
      overflow:hidden;
    }
    .topitem{
      font-weight:900;
      letter-spacing:.2px;
      line-height:1.05;
      font-size: calc(clamp(18px, 2.8vmin, 42px) * var(--topScale));
      overflow:hidden;
      text-overflow:clip;
    }
    .top-title{
      justify-self:start;
      color:var(--neon);
      text-shadow: var(--glow);
    }
    .top-session{
      justify-self:center;
      color:#ffb100;
      text-shadow: 0 0 18px rgba(255,177,0,.25);
    }
    .top-now{
      justify-self:end;
      color:var(--neon2);
      text-shadow: 0 0 14px rgba(0,215,255,.2);
    }

    .panel{
      flex:1;
      min-height:0;
      background: linear-gradient(180deg, rgba(0,255,133,.06), rgba(0,0,0,.0));
      border:2px solid var(--border);
      border-radius:18px;
      box-shadow: var(--glow);
      padding: clamp(8px, 1.1vmin, 14px);
      display:flex;
      flex-direction:column;
      gap: clamp(8px, 1.0vmin, 12px);
    }

    .controls{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      padding: 2px 2px 0 2px;
    }
    .btn{
      cursor:pointer;
      font-weight:900;
      padding:10px 14px;
      border-radius:12px;
      border:2px solid rgba(0,255,133,.6);
      background: rgba(0,0,0,.25);
      color:var(--text);
      box-shadow: 0 0 18px rgba(0,255,133,.18);
    }
    .state{
      opacity:.85;
      color: var(--muted);
      font-weight:900;
    }

    .tableArea{
      flex:1;
      min-height:0;
      border-radius:14px;
      overflow:hidden;
      border:2px solid var(--border);
      background: rgba(0,0,0,.25);
    }

    table{
      width:100%;
      height:100%;
      border-collapse:collapse;
      table-layout:fixed;
    }

    th, td{
      border:1px solid rgba(0,255,133,.22);
      padding: 6px 10px;
      text-align:center;
      font-weight:900;
      vertical-align:middle;
      overflow:hidden;
    }

    th{
      color:var(--warn);
      background: rgba(0,0,0,.35);
      text-shadow: 0 0 12px rgba(255,43,214,.18);
      font-size: calc(clamp(20px, 2.6vmin, 40px) * var(--mainScale));
      padding: 10px 10px;
    }

    td{
      word-break:keep-all;
      line-height:1.08;
      font-size: calc(clamp(24px, 3.0vmin, 52px) * var(--mainScale));
    }

    .cellValue{
      display:block;
      width:100%;
      overflow:hidden;
      text-overflow:ellipsis;
      white-space:nowrap; /* PC: í•œ ì¤„ */
    }

    .col1{width:32%}
    .col2{width:43%}
    .col3{width:25%}

    tr.active td{
      background: rgba(0,255,133,.14);
      box-shadow: inset 0 0 0 1px rgba(0,255,133,.35);
    }

    .status-done{color:rgba(232,255,243,.55)}
    .status-plan{color:rgba(232,255,243,.9)}
    .status-live{color:var(--neon); text-shadow: var(--glow)}

    .notice{
      border:1px solid rgba(0,255,133,.25);
      border-radius:14px;
      background: rgba(0,0,0,.25);
      padding: 10px 14px;
      line-height:1.45;
      color:var(--muted);
      font-size: calc(clamp(18px, 2.2vmin, 34px) * var(--mainScale));
    }
    .notice b{color:var(--text)}

    /* ===== ëª¨ë°”ì¼ ===== */
    @media (max-width: 860px){
      body{overflow:auto;}
      .wrap{height:auto; min-height:100vh;}

      .topline{
        grid-template-columns: 1fr;
        white-space:normal;
        overflow:visible;
        gap:6px;
      }
      .topitem{
        font-size: clamp(18px, 4.8vw, 24px);
        line-height:1.2;
        overflow:visible;
      }
      .top-title, .top-session, .top-now{
        justify-self:start;
      }

      /* âœ… NowëŠ” ëª¨ë°”ì¼ì—ì„œ 2ì¤„ */
      .top-now{
        white-space:normal;
        line-height:1.25;
      }

      .panel{min-height:auto;}
      .tableArea{overflow:visible; border:none; background:transparent;}

      table, thead, tbody, th, tr { display:block; height:auto; }
      thead { display:none; }

      tr{
        border:1px solid rgba(0,255,133,.22);
        border-radius:14px;
        margin:10px 0;
        overflow:hidden;
        background: rgba(0,0,0,.18);
      }

      td{
        display:flex;
        justify-content:space-between;
        align-items:flex-start;
        text-align:left;
        border:0;
        border-top:1px solid rgba(0,255,133,.18);
        gap:12px;
        padding: 12px 12px;
        line-height:1.2;
        font-size: clamp(18px, 4.8vw, 24px);
      }
      td:first-child{ border-top:0; }

      td::before{
        content: attr(data-label);
        color: rgba(232,255,243,.7);
        font-weight:900;
        flex: 0 0 92px;
        padding-top:2px;
      }

      td[data-label="ë‚´ìš©"] .cellValue{
        white-space:normal;
        overflow:visible;
        text-overflow:clip;
        text-align:right;
      }

      /* âœ… ëª¨ë°”ì¼ ì‹œê°„: ë‹¤ìŒ ì¤„ì— (80ë¶„) */
      td[data-label="ì‹œê°„"] .cellValue{
        white-space:normal;
        overflow:visible;
        text-overflow:clip;
        text-align:right;
        line-height:1.15;
      }

      td[data-label="ì§„í–‰ìƒí™©"] .cellValue{
        white-space:nowrap;
        overflow:hidden;
        text-overflow:ellipsis;
        text-align:right;
      }

      .notice{
        font-size: clamp(16px, 4.2vw, 22px);
      }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topline" id="topline">
      <div class="topitem top-title" id="topTitle">2026ì •ë³´ì˜¬ë¦¼í”¼ì•„ë“œ ì¤€ë¹„ in ì„¸ì˜ë¡œë³´í‹±ìŠ¤</div>
      <div class="topitem top-session" id="sessionLabel">0íšŒì°¨</div>
      <div class="topitem top-now" id="nowText">Now -</div>
    </div>

    <div class="panel">
      <div class="controls">
        <button class="btn" id="alarmBtn">ğŸ”” ì•Œë¦¼ ì¼œê¸°</button>
        <span class="state" id="alarmState">ì•Œë¦¼: OFF</span>
        <span class="state" id="dayState"></span>
      </div>

      <div class="tableArea" id="tableArea">
        <table id="mainTable">
          <thead id="thead">
            <tr>
              <th class="col1"><span class="cellValue">ë‚´ìš©</span></th>
              <th class="col2"><span class="cellValue">ì‹œê°„</span></th>
              <th class="col3"><span class="cellValue">ì§„í–‰ìƒí™©</span></th>
            </tr>
          </thead>
          <tbody id="tbody"></tbody>
        </table>
      </div>

      <div class="notice" id="notice">
        <div>ì‹œí—˜ ê²°ê³¼ì— ë”°ë¼ ë¶€ì¡±í•œ ë¶€ë¶„ì€ <b>í‰ì¼ ë³´ì¶© ìˆ˜ì—… ì§„í–‰</b></div>
        <div>26ë…„ 1ì›” 3ì¼(í† )ì€ <b>íœ´ê°•!</b> ìƒˆí•´ ë³µ ë§ì´ ë°›ìœ¼ì„¸ìš” ( __)</div>
      </div>
    </div>
  </div>

  <script>
    /** ====== ì„¤ì • ====== */
    const TIMEZONE = "Asia/Seoul";
    const START_SESSION_DATE = "2025-12-06"; // 1íšŒì°¨
    const OFF_DATES = new Set(["2026-01-03"]); // íœ´ê°•

    // âœ… í‘œì— ë³´ì´ëŠ” ì´ë¦„(name)ê³¼ ì•Œë¦¼ì— ì“°ëŠ” ì´ë¦„(announce)ì„ ë¶„ë¦¬
    const SCHEDULE = [
      { name: "1êµì‹œ", announce: "1êµì‹œ", start: "16:00", end: "17:20" },
      { name: "ê°œì¸ ì •ë¹„ ë° ì‰¬ëŠ” ì‹œê°„", announce: "ì‰¬ëŠ” ì‹œê°„", start: "17:20", end: "17:40" },
      { name: "2êµì‹œ", announce: "2êµì‹œ", start: "17:40", end: "19:00" },
      { name: "ì €ë…ì‹ì‚¬", announce: "ì €ë…ì‹ì‚¬", start: "19:00", end: "19:40" },
      { name: "3êµì‹œ", announce: "3êµì‹œ", start: "19:40", end: "21:00" },
      { name: "ê°œì¸ ì •ë¹„ ë° ì‰¬ëŠ” ì‹œê°„", announce: "ì‰¬ëŠ” ì‹œê°„", start: "21:00", end: "21:20" },
      { name: "ì‹œí—˜", announce: "ì‹œí—˜", start: "21:20", end: "22:00" },
    ];

    /** ====== ìœ í‹¸ ====== */
    const pad2 = n => String(n).padStart(2, "0");
    const isMobile = () => window.matchMedia("(max-width: 860px)").matches;

    function nowSeoul(){
      return new Date(new Date().toLocaleString("en-US", { timeZone: TIMEZONE }));
    }
    function ymd(d){
      return `${d.getFullYear()}-${pad2(d.getMonth()+1)}-${pad2(d.getDate())}`;
    }
    function parseYMD(str){
      const [y,m,dd] = str.split("-").map(Number);
      const d = nowSeoul();
      d.setFullYear(y, m-1, dd);
      d.setHours(0,0,0,0);
      return d;
    }
    function addDays(d, days){
      const x = new Date(d);
      x.setDate(x.getDate() + days);
      return x;
    }
    function nextSaturday(d){
      const day = d.getDay();
      const diff = (6 - day + 7) % 7;
      const t = addDays(d, diff);
      t.setHours(0,0,0,0);
      return t;
    }
    function dateAt(baseDate, hhmm){
      const [hh, mm] = hhmm.split(":").map(Number);
      const d = new Date(baseDate);
      d.setHours(hh, mm, 0, 0);
      return d;
    }

    function to12(h){
      const mer = (h < 12) ? "ì˜¤ì „" : "ì˜¤í›„";
      const h12 = ((h + 11) % 12) + 1;
      return { mer, h12 };
    }

    // âœ… Now: ëª¨ë°”ì¼ì´ë©´ 2ì¤„, PCì´ë©´ 1ì¤„
    function fmtNowLine(d){
      const { mer, h12 } = to12(d.getHours());
      const dateLine = `Now ${d.getFullYear()}ë…„ ${d.getMonth()+1}ì›” ${d.getDate()}ì¼`;
      const timeLine = `${mer} ${h12}ì‹œ ${pad2(d.getMinutes())}ë¶„ ${pad2(d.getSeconds())}ì´ˆ`;
      return isMobile() ? `${dateLine}<br>${timeLine}` : `${dateLine} ${timeLine}`;
    }

    function fmtStartTime(h, m){
      const { h12 } = to12(h);
      return (m === 0) ? `${h12}ì‹œ` : `${h12}ì‹œ ${m}ë¶„`;
    }
    function fmtEndTime(startH, endH, endM){
      const { h12: endH12 } = to12(endH);
      if(endH === startH) return `${endM}ë¶„`; // 5ì‹œ20ë¶„~40ë¶„
      return (endM === 0) ? `${endH12}ì‹œ` : `${endH12}ì‹œ ${endM}ë¶„`;
    }

    function fmtRangeWithDuration(startHHMM, endHHMM){
      const base = nowSeoul(); base.setHours(0,0,0,0);
      const s = dateAt(base, startHHMM);
      const e = dateAt(base, endHHMM);
      const durMin = Math.round((e - s) / 60000);

      const sh = s.getHours(), sm = s.getMinutes();
      const eh = e.getHours(), em = e.getMinutes();

      const left = fmtStartTime(sh, sm);
      const right = fmtEndTime(sh, eh, em);

      if (isMobile()){
        return `${left}~${right}<br><span style="opacity:.9">(${durMin}ë¶„)</span>`;
      }
      return `${left} ~ ${right}(${durMin}ë¶„)`;
    }

    function fmtRemain(ms){
      const totalSec = Math.max(0, Math.floor(ms/1000));
      const m = Math.floor(totalSec/60);
      const s = totalSec % 60;
      return `${pad2(m)}ë¶„ ${pad2(s)}ì´ˆ ë‚¨ìŒ`;
    }

    function sessionNumberFor(dateYMD){
      const target = parseYMD(dateYMD);
      const start = parseYMD(START_SESSION_DATE);
      if(target < start) return 0;

      let count = 0;
      for(let d = new Date(start); d <= target; d = addDays(d, 7)){
        if(!OFF_DATES.has(ymd(d))) count++;
      }
      return count;
    }

    function getActiveIndex(now){
      const base = new Date(now); base.setHours(0,0,0,0);
      for(let i=0;i<SCHEDULE.length;i++){
        const s = dateAt(base, SCHEDULE[i].start);
        const e = dateAt(base, SCHEDULE[i].end);
        if(now >= s && now < e) return i;
      }
      return -1;
    }

    /** ===== PC ë ˆì´ì•„ì›ƒ ë§ì¶¤ ===== */
    function fitToplinePC(){
      if (isMobile()) return;
      const topline = document.getElementById("topline");
      let scale = 1.20;
      document.documentElement.style.setProperty("--topScale", String(scale));
      for(let i=0;i<18;i++){
        if (topline.scrollWidth <= topline.clientWidth) break;
        scale -= 0.05;
        if (scale < 0.70) break;
        document.documentElement.style.setProperty("--topScale", String(scale));
      }
    }

    function setMainScale(){
      if (isMobile()) {
        document.documentElement.style.setProperty("--mainScale", "1");
        return;
      }
      const h = window.innerHeight;
      let s = h / 820;
      s = Math.max(1.10, Math.min(1.90, s));
      document.documentElement.style.setProperty("--mainScale", String(s));
    }

    function fitRows(){
      if (isMobile()) return;
      const tbody = document.getElementById("tbody");
      const rows = Array.from(tbody.querySelectorAll("tr"));
      if (rows.length === 0) return;

      const tableArea = document.getElementById("tableArea");
      const thead = document.getElementById("thead");
      const theadH = thead ? thead.getBoundingClientRect().height : 0;
      const areaH = tableArea.getBoundingClientRect().height;
      const available = Math.max(0, areaH - theadH);

      const per = Math.floor(available / rows.length);
      const finalH = Math.max(per, 74);
      rows.forEach(r => { r.style.height = finalH + "px"; });
    }

    function tableOverflows(){
      const cells = document.querySelectorAll("#mainTable th, #mainTable td");
      for (const cell of cells){
        if (cell.scrollWidth > cell.clientWidth + 1) return true;
        if (cell.scrollHeight > cell.clientHeight + 1) return true;
      }
      return false;
    }

    function fitMainScaleToTable(){
      if (isMobile()) return;
      let s = parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--mainScale")) || 1;
      for(let i=0;i<20;i++){
        fitRows();
        if(!tableOverflows()) break;
        s -= 0.05;
        if (s < 1.00) break;
        document.documentElement.style.setProperty("--mainScale", String(s));
      }
    }

    /** ===== ì•Œë¦¼(ì†Œë¦¬ + alert + Notification) ===== */
    let alarmsEnabled = false;
    let audioCtx = null;

    // ì¤‘ë³µ ë°©ì§€
    let lastActiveIndex = null;
    let lastBoundaryKey = "";

    function updateAlarmUI(){
      document.getElementById("alarmState").textContent = `ì•Œë¦¼: ${alarmsEnabled ? "ON" : "OFF"}`;
    }

    async function requestNotificationPermission(){
      if(!("Notification" in window)) return false;
      if(Notification.permission === "granted") return true;
      if(Notification.permission === "denied") return false;
      const p = await Notification.requestPermission();
      return p === "granted";
    }
    function pushNotification(title, body){
      if(!("Notification" in window)) return;
      if(Notification.permission !== "granted") return;
      new Notification(title, { body });
    }

    function initAudio(){
      if(!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      if(audioCtx.state === "suspended") audioCtx.resume();
    }

    function beep(times=1){
      if(!alarmsEnabled) return;
      try{
        initAudio();
        for(let i=0;i<times;i++){
          const o = audioCtx.createOscillator();
          const g = audioCtx.createGain();
          o.type = "square";
          o.frequency.value = 880;
          g.gain.value = 0.06;

          o.connect(g);
          g.connect(audioCtx.destination);

          const start = audioCtx.currentTime + i*0.22;
          o.start(start);
          o.stop(start + 0.16);
        }
      }catch(e){}
    }

    // ë©”ì‹œì§€: ì‹œì‘ / ì „í™˜ / ë§ˆì§€ë§‰ ì¢…ë£Œ
    function buildTransitionMessage(prevIdx, nextIdx){
      const prev = (prevIdx !== null && prevIdx >= 0) ? SCHEDULE[prevIdx].announce : null;
      const next = (nextIdx !== null && nextIdx >= 0) ? SCHEDULE[nextIdx].announce : null;

      if(prev && next) return `${prev}ê°€ ëë‚˜ê³  ${next}ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤`;
      if(!prev && next) return `${next}ê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤`;
      if(prev && !next) return `${prev}ê°€ ëë‚¬ìŠµë‹ˆë‹¤`;
      return null;
    }

    // ì‹¤ì œ ìš¸ë¦¼ + alert + (ì„ íƒ) Notification
    function fireAlarm(msg){
      if(!alarmsEnabled || !msg) return;
      beep(2);
      // ì‹œìŠ¤í…œ ì•Œë¦¼(í—ˆìš©ëœ ê²½ìš°)
      pushNotification("ì‹œê°„í‘œ ì•Œë¦¼", msg);
      // í™•ì¸ì°½(ìš”ì²­ì‚¬í•­)
      alert(msg);
    }

    document.getElementById("alarmBtn").addEventListener("click", async () => {
      const now = nowSeoul();
      const todayKey = ymd(now);
      const isSat = (now.getDay() === 6);
      const isOff = OFF_DATES.has(todayKey);
      const enableCountdown = isSat && !isOff;

      alarmsEnabled = !alarmsEnabled;

      if(alarmsEnabled){
        await requestNotificationPermission();
        // ì˜¤ë””ì˜¤ í™œì„±í™” (í´ë¦­ ìˆœê°„)
        beep(1);

        // âœ… ì•Œë¦¼ ì¼  ìˆœê°„ì—” â€œì¦‰ì‹œ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤â€ê°€ ëœ¨ì§€ ì•Šê²Œ í˜„ì¬ ìƒíƒœë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë™ê¸°í™”
        lastActiveIndex = enableCountdown ? getActiveIndex(now) : -1;
        lastBoundaryKey = `${todayKey}_${lastActiveIndex}`;

      }else{
        // OFFë©´ ê·¸ëƒ¥ ìœ ì§€
      }
      updateAlarmUI();
    });
    updateAlarmUI();

    /** ===== ë Œë” ===== */
    function render(){
      const now = nowSeoul();
      document.getElementById("nowText").innerHTML = fmtNowLine(now);

      const todayKey = ymd(now);
      const isSat = (now.getDay() === 6);
      const isOff = OFF_DATES.has(todayKey);
      const enableCountdown = isSat && !isOff;

      document.getElementById("dayState").textContent =
        enableCountdown ? "í† ìš”ì¼ ì§„í–‰ì¤‘ âœ…" : (isSat && isOff ? "ì˜¤ëŠ˜ì€ íœ´ê°• âŒ" : "í† ìš”ì¼ì—ë§Œ ì§„í–‰");

      // íšŒì°¨ ê³„ì‚°(ë‹¤ìŒ í† ìš”ì¼ ê¸°ì¤€, íœ´ê°•ì´ë©´ ë‹¤ìŒì£¼ë¡œ)
      let sessionBase = isSat ? (() => { const d = new Date(now); d.setHours(0,0,0,0); return d; })()
                              : nextSaturday(now);
      if(OFF_DATES.has(ymd(sessionBase))) sessionBase = addDays(sessionBase, 7);

      const sessionNo = sessionNumberFor(ymd(sessionBase));
      document.getElementById("sessionLabel").textContent = (sessionNo > 0) ? `${sessionNo}íšŒì°¨` : `0íšŒì°¨`;

      // í˜„ì¬ ì§„í–‰ ì¸ë±ìŠ¤
      const activeIndex = enableCountdown ? getActiveIndex(now) : -1;

      // âœ… ì•Œë¦¼ ì „í™˜ ê°ì§€ (í™œì„±í™” & í† ìš”ì¼ì§„í–‰ì¤‘ì¼ ë•Œë§Œ)
      if(alarmsEnabled && enableCountdown){
        // "ê°™ì€ ì „í™˜" ì¤‘ë³µ ë°©ì§€ìš© í‚¤: ì˜¤ëŠ˜ë‚ ì§œ + (ì´ì „->í˜„ì¬) + í˜„ì¬ì‹œê°(ë¶„ ë‹¨ìœ„)
        const minuteKey = `${todayKey}_${now.getHours()}:${now.getMinutes()}`;
        const boundaryKey = `${minuteKey}_${lastActiveIndex}->${activeIndex}`;

        if(lastActiveIndex !== null && activeIndex !== lastActiveIndex && boundaryKey !== lastBoundaryKey){
          lastBoundaryKey = boundaryKey;
          const msg = buildTransitionMessage(lastActiveIndex, activeIndex);
          fireAlarm(msg);
        }
      }

      // lastActiveIndex ê°±ì‹ (ì•Œë¦¼ OFFë¼ë„ ê°±ì‹ í•´ë‘ë©´ í¸í•¨)
      lastActiveIndex = activeIndex;

      // í‘œ ë Œë”
      const tbody = document.getElementById("tbody");
      tbody.innerHTML = "";

      const baseToday = new Date(now); baseToday.setHours(0,0,0,0);

      SCHEDULE.forEach((item, idx) => {
        const tr = document.createElement("tr");
        if(enableCountdown && idx === activeIndex) tr.classList.add("active");

        const td1 = document.createElement("td");
        td1.setAttribute("data-label", "ë‚´ìš©");
        td1.innerHTML = `<span class="cellValue">${item.name}</span>`;

        const td2 = document.createElement("td");
        td2.setAttribute("data-label", "ì‹œê°„");
        td2.innerHTML = `<span class="cellValue">${fmtRangeWithDuration(item.start, item.end)}</span>`;

        const td3 = document.createElement("td");
        td3.setAttribute("data-label", "ì§„í–‰ìƒí™©");

        if(!enableCountdown){
          td3.innerHTML = `<span class="cellValue status-plan">ì˜ˆì •</span>`;
        }else{
          const s = dateAt(baseToday, item.start);
          const e = dateAt(baseToday, item.end);

          if(now < s) td3.innerHTML = `<span class="cellValue status-plan">ì˜ˆì •</span>`;
          else if(now >= e) td3.innerHTML = `<span class="cellValue status-done">ì™„ë£Œ</span>`;
          else td3.innerHTML = `<span class="cellValue status-live">${fmtRemain(e - now)}</span>`;
        }

        tr.appendChild(td1);
        tr.appendChild(td2);
        tr.appendChild(td3);
        tbody.appendChild(tr);
      });

      requestAnimationFrame(() => {
        setMainScale();
        fitMainScaleToTable();
        fitToplinePC();
      });
    }

    render();
    setInterval(render, 1000);
    window.addEventListener("resize", () => requestAnimationFrame(render));
  </script>
</body>
</html>
